
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="description" content="">
	<meta name="author" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<title>Potree Viewer</title>

	<link rel="stylesheet" type="text/css" href="/build/potree/potree.css">
	<link rel="stylesheet" type="text/css" href="/libs/jquery-ui/jquery-ui.min.css">
	<link rel="stylesheet" type="text/css" href="/libs/perfect-scrollbar/css/perfect-scrollbar.css">
	<link rel="stylesheet" type="text/css" href="/libs/openlayers3/ol.css">
	<link rel="stylesheet" type="text/css" href="/libs/spectrum/spectrum.css">
	<link rel="stylesheet" type="text/css" href="/libs/jstree/themes/mixed/style.css">
    <link rel="stylesheet" href="/css/entwine.css" type="text/css">
</head>
<body>
	<script src="/libs/jquery/jquery-3.1.1.min.js"></script>
	<script src="/libs/spectrum/spectrum.js"></script>
	<script src="/libs/perfect-scrollbar/js/perfect-scrollbar.jquery.js"></script>
	<script src="/libs/jquery-ui/jquery-ui.min.js"></script>
	<script src="/libs/three.js/build/three.min.js"></script>
	<script src="/libs/other/BinaryHeap.js"></script>
	<script src="/libs/tween/tween.min.js"></script>
	<script src="/libs/d3/d3.js"></script>
	<script src="/libs/proj4/proj4.js"></script>
	<script src="/libs/openlayers3/ol.js"></script>
	<script src="/libs/i18next/i18next.js"></script>
	<script src="/libs/jstree/jstree.js"></script>
	<script src="/build/potree/potree.js"></script>
	<script src="/libs/plasio/js/laslaz.js"></script>
    <script src="/libs/clipboard.min.js" type="text/javascript"></script>
    <div id="potree_container">
		<div id="potree_render_area"></div>
		<div id="potree_sidebar_container"></div>
	</div>

    <script type="text/javascript">

      window.config = {
          resource: [
              'http://na.entwine.io/readcoor/v9c/apoe/ept.json',
              'http://na.entwine.io/readcoor/v9c/gfap/ept.json',
              'http://na.entwine.io/readcoor/v9c/snap/ept.json',
              'http://na.entwine.io/readcoor/v9c/syn1/ept.json',
              'http://na.entwine.io/readcoor/v9c/microglia/ept.json',
              'http://na.entwine.io/readcoor/v9c/astrocyte/ept.json',
          ],
          pointSize: 8,
          pointBudget: 3000000,
          edlEnabled: true,
          pointType: Potree.PointSizeType.FIXED,
          material: Potree.PointColorType.CHANNELS,
          hq: true,
          position:  [12794.263, 10843.792, 13436.510],
          target: [5759.500, 10879.500, 40.500],
	      chMin: [[0], [0], [0], [0], [84], [75]],
	      chMax: [[20], [38], [20], [38], [256], [146]],
	      chColor: [
	          ["rgb(0,255,255)"],
	          ["rgb(0,192,0)"],
	          ["rgb(192,192,192)"],
	          ["rgb(255,0,0)"],
	          ["rgb(255,255,0)"],
  	          ["rgb(158,125,255)"],
          ],
          postLoad: (viewer) => {
              let pcs = viewer.scene.pointclouds;
              pcs[4].material.size = 4;
              pcs[5].material.size = 4;
	      },
      };

      /*
            const str = a => '[' + a.map(v => v.toFixed(3).toString()) + ']'
            let qpos = str(pos)
            let qtgt = str(tgt)

            let last = new Date()
            let handle = null

            const set = () => {
                handle = null

                const npos = str(viewer.scene.view.position.toArray())
                const ntgt = str(viewer.scene.view.getPivot().toArray())

                if (npos == qpos && ntgt == qtgt) return

                last = new Date()

                qpos = npos
                qtgt = ntgt

                const qs = '?p=' + qpos + '&t=' + qtgt
                if (window.history) window.history.replaceState({ }, null, qs)
            }

            viewer.addEventListener('camera_changed', (c) => {
                if (handle) clearTimeout(handle)

                if (new Date() - last > 100) set()
                else handle = setTimeout(set, 100)
            })
      })()
      */
    </script>
    <script type="text/javascript" src="../js/script.js"></script>

  </body>
</html>

